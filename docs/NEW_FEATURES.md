# ๐ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ - New Features Added

**ุงูุชุงุฑูุฎ:** 19 ุฏูุณูุจุฑ 2025

---

## โ ุงูููุฒุงุช ุงูููููุฐุฉ | Implemented Features

### 1๏ธโฃ ููู ุงููุฑุฌุน ุงูุณุฑูุน ุฅูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
**Move Quick Reference to Side Navigation**

#### โ ุงูุชุบููุฑุงุช:
- ุชู ููู "ุงููุฑุฌุน ุงูุณุฑูุน" ูู sidebar ุฅูู ุตูุญุฉ ูุงููุฉ
- ุชูุช ุฅุถุงูุชู ุฅูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ุชุญุช ูุณู "ุฎุทุฉ ุงุณุชูุฑุงุฑูุฉ ุงูุชุนููู"
- ุฃุตุจุญ ูุชุงุญุงู ูููุฏุงุฑุณ ูุงููุณุคูููู

#### ๐ ุงููููุน ุงูุฌุฏูุฏ:
- **ูููุฏุงุฑุณ:** ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ โ ุฎุทุฉ ุงุณุชูุฑุงุฑูุฉ ุงูุชุนููู โ ุงููุฑุฌุน ุงูุณุฑูุน
- **ูููุณุคูู:** ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ โ ุงููุฑุฌุน ุงูุณุฑูุน

#### ๐จ ุงูุตูุญุฉ ุงูุฌุฏูุฏุฉ: `/bc-quick-reference`

#### ๐ ุงููุญุชูู:
**Tab 1: ุฌูุงุช ุงูุงุชุตุงู**
- ุฌูุงุช ุงูุงุชุตุงู ุงูุฏุงุฎููุฉ
- ุฌูุงุช ุงูุงุชุตุงู ุงูุฎุงุฑุฌูุฉ (ุทูุงุฑุฆ)
- ุฌูุงุช ุงูุงุชุตุงู ุงูุฎุงุฑุฌูุฉ (ุฃุฎุฑู)
- ุนุฑุถ ุจุทุงูุงุช Contact Cards ูุน:
  - ุงูุงุณู ูุงูุฏูุฑ ูุงูููุธูุฉ
  - ุฑูู ุงููุงุชู (clickable ููุงุชุตุงู)
  - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (clickable)
  - ููุงุญุธุงุช

**Tab 2: ุฃูุฏุงู ููุช ุงูุชุนุงูู (RTO)**
- ุนุฑุถ ูุฏู RTO: 24 ุณุงุนุฉ
- ูุนูููุงุช ุนู ุงูุจุฏุงุฆู ุงููุชุงุญุฉ
- ุขุฎุฑ ูุฑุงุฌุนุฉ

**Tab 3: ุงูุณููุงุฑูููุงุช ูุงูุงุณุชุฌุงุจุฉ**
- ุนุฑุถ ุฌููุน ุงูุณููุงุฑูููุงุช ุงูููุนุฏุฉ ูู ุงูุฅุฏุงุฑุฉ
- ุฅุฌุฑุงุกุงุช ุงูุงุณุชุฌุงุจุฉ ููู ุณููุงุฑูู

#### ๐ก ุงูููุชุฑุฉ:
- ุงููุฏุงุฑุณ: ุชุฑู ููุท ุฌูุงุช ุงูุงุชุตุงู ุญูุซ `isVisibleToSchools = true`
- ุงููุณุคูู: ูุฑู ุฌููุน ุฌูุงุช ุงูุงุชุตุงู + ุฑุณุงูุฉ ุชูุถูุญูุฉ ููุชุญูู

---

### 2๏ธโฃ ูุธุงู ุงูุฅุดุนุงุฑุงุช ูููุณุคูููู
**Admin Notification System**

#### โ ุงูุชุบููุฑุงุช:
- ุฅุถุงูุฉ ุฃููููุฉ ุฅุดุนุงุฑุงุช (๐) ูู ุฃุนูู ุงูุชุทุจูู
- ูุธุงู ุฅุดุนุงุฑุงุช ุดุงูู ูู ุงูุฅุฏุงุฑุฉ ูููุฏุงุฑุณ
- ุนุฏุงุฏ ููุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ

#### ๐ ุงููููุน:
- ุฃุนูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ (ุจุฌุงูุจ ุงูุนููุงู)
- ูุฑุฆู ูุฌููุน ุงููุณุชุฎุฏููู (ูุฏุงุฑุณ + ูุณุคูู)

#### ๐จ ุงูููููุงุช:
**NotificationBell Component:**
- ุฃููููุฉ ุฌุฑุณ ูุน ุนุฏุงุฏ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ
- Panel ููุฒูู ูุนุฑุถ ุงูุฅุดุนุงุฑุงุช
- ุชุญุฏูุซ ุชููุงุฆู ูู 5 ุฏูุงุฆู

**AnnouncementService:**
- `getAnnouncements()` - ุฌูุจ ุงูุฅุดุนุงุฑุงุช
- `createAnnouncement()` - ุฅูุดุงุก ุฅุดุนุงุฑ (ูุณุคูู)
- `updateAnnouncement()` - ุชุญุฏูุซ ุฅุดุนุงุฑ (ูุณุคูู)
- `deleteAnnouncement()` - ุญุฐู ุฅุดุนุงุฑ (ูุณุคูู)
- `markAsRead()` - ุชุนููู ูููุฑูุก
- `getUnreadCount()` - ุนุฏุฏ ุบูุฑ ุงูููุฑูุกุฉ

#### ๐ ุฃููุงุน ุงูุฅุดุนุงุฑุงุช:
- **ุนุงุฏู (normal):** ๐ข - ุฃุฒุฑู
- **ููู (urgent):** โ๏ธ - ุจุฑุชูุงูู
- **ุนุงุฌู (critical):** ๐จ - ุฃุญูุฑ

#### ๐ฏ ุงูููุชุฑุฉ:
- `targetAudience: 'all'` - ุฌููุน ุงููุฏุงุฑุณ
- `targetAudience: 'specific'` - ูุฏุงุฑุณ ูุญุฏุฏุฉ ููุท

#### โ๏ธ ููุงุญุธุฉ ูููุฉ:
**ูุญุชุงุฌ ุฅูุดุงุก ูุงุฆูุฉ SharePoint:**
```
ุงููุงุฆูุฉ: BC_Announcements
ุงูุฃุนูุฏุฉ ุงููุทููุจุฉ:
- Title (Text)
- Message (Multi-line text)
- Priority (Choice: normal, urgent, critical)
- TargetAudience (Choice: all, specific)
- TargetSchools (Multi-line text - JSON array)
- PublishDate (DateTime)
- ExpiryDate (DateTime)
- IsActive (Yes/No)
- CreatedBy (Text)
- AttachmentUrl (Hyperlink)
```

ุจุนุฏ ุฅูุดุงุก ุงููุงุฆูุฉ:
1. ุดุบู `pac code add-data-source` ูุฅุถุงูุฉ BC_Announcements
2. ุงุญุฐู ุงูุชุนููู ูู announcementService.ts
3. ุงุณุชุจุฏู `BC_AnnouncementsService` ุจุงูุฎุฏูุฉ ุงูููููุฏุฉ

---

### 3๏ธโฃ ุฒุฑ "ูุณูุช ูููุฉ ุงููุฑูุฑ"
**Forgot Password Button**

#### โ ุงูุชุบููุฑุงุช:
- ุฅุถุงูุฉ ุฒุฑ "๐ ูุณูุช ูููุฉ ุงููุฑูุฑุ" ูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู (ูููุฏุงุฑุณ)
- ูุฑุณู ุทูุจ ุงุณุชุนุงุฏุฉ ูููุฉ ุงููุฑูุฑ ุฅูู Power Automate
- ููุฎุทุฑ ุงููุณุคูู ุจุงูุทูุจ

#### ๐ ุงููููุน:
- ุตูุญุฉ Login โ ุฏุฎูู ุงููุฏุงุฑุณ โ ุฃุณูู ุฒุฑ "ุฏุฎูู"

#### ๐ ุงูุขููุฉ:
1. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุงููุฏุฑุณุฉ
2. ูุถุบุท "ูุณูุช ูููุฉ ุงููุฑูุฑุ"
3. ููุฑุณู ุทูุจ HTTP POST ุฅูู Power Automate Flow
4. ุงูู Flow ููุฑุณู ุจุฑูุฏ ุฅููุชุฑููู ูููุณุคูู ูุน:
   - ุงุณู ุงููุฏุฑุณุฉ
   - ุงุณู ุงููุฏูุฑ/ุงููุฏูุฑุฉ
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ุฑูู ุงููุงุชู
   - ุฑูู ุงููููุฉ (ุฅุฐุง ุฃุฏุฎูู)
   - ุชุงุฑูุฎ ูููุช ุงูุทูุจ

#### โ๏ธ ุฎุทูุงุช ุงูุชูุนูู:

**1. ุฅูุดุงุก Power Automate Flow:**
```
Trigger: When an HTTP request is received
Schema: {
  "type": "object",
  "properties": {
    "schoolName": { "type": "string" },
    "principalName": { "type": "string" },
    "principalEmail": { "type": "string" },
    "principalPhone": { "type": "string" },
    "principalId": { "type": "string" },
    "requestDate": { "type": "string" }
  }
}

Action: Send an email (V2)
To: admin@example.com
Subject: ุทูุจ ุงุณุชุนุงุฏุฉ ูููุฉ ุงููุฑูุฑ - {schoolName}
Body: ููุฌุฏ ุทูุจ ุงุณุชุนุงุฏุฉ ูููุฉ ุงููุฑูุฑ ูู:
      ุงููุฏุฑุณุฉ: {schoolName}
      ุงููุฏูุฑ/ุงููุฏูุฑุฉ: {principalName}
      ุงูุจุฑูุฏ: {principalEmail}
      ุงููุงุชู: {principalPhone}
      ุฑูู ุงููููุฉ: {principalId}
      ุงูุชุงุฑูุฎ: {requestDate}
```

**2. ุชุญุฏูุซ URL ูู ุงูููุฏ:**

ุงูุชุญ: `src/components/Login.tsx`

ุงูุณุทุฑ 119:
```typescript
const flowUrl = 'https://prod-31.westus.logic.azure.com:443/workflows/YOUR_FLOW_ID/triggers/manual/paths/invoke'
```

ุงุณุชุจุฏู `YOUR_FLOW_ID` ุจู URL ุงูู Flow ุงูุญูููู ูู Power Automate

**3. ุงุฎุชุจุงุฑ:**
- ุงูุชุญ ุงูุชุทุจูู
- ุงุฎุชุฑ ูุฏุฑุณุฉ
- ุงุถุบุท "ูุณูุช ูููุฉ ุงููุฑูุฑุ"
- ุชุญูู ูู ูุตูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูููุณุคูู

---

## ๐ ุงููููุงุช ุงูุฌุฏูุฏุฉ | New Files

### 1. Components:
- `src/components/NotificationBell.tsx` - ูููู ุฅุดุนุงุฑุงุช ุงูุฌุฑุณ
- `src/components/BCQuickReference.tsx` - ุงููุฑุฌุน ุงูุณุฑูุน (ุตูุญุฉ ูุงููุฉ)

### 2. Services:
- `src/services/announcementService.ts` - ุฎุฏูุฉ ุงูุฅุดุนุงุฑุงุช

---

## ๐ ุงููููุงุช ุงูููุนุฏูุฉ | Modified Files

### 1. Navigation.tsx
- โ ุฅุถุงูุฉ import ูู NotificationBell
- โ ุฅุถุงูุฉ NotificationBell ูู header
- โ ุฅุถุงูุฉ "ุงููุฑุฌุน ุงูุณุฑูุน" ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ

### 2. Login.tsx
- โ ุฅุถุงูุฉ ุฏุงูุฉ `handleForgotPassword()`
- โ ุฅุถุงูุฉ ุฒุฑ "ูุณูุช ูููุฉ ุงููุฑูุฑุ"
- โ ุฏูุฌ ูุน Power Automate

### 3. App.tsx
- โ ุฅุถุงูุฉ import ูู BCQuickReference
- โ ุฅุถุงูุฉ Route `/bc-quick-reference`

---

## โ ูุงุฆูุฉ ุงูุชุญูู | Checklist

### ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูุจุงุดุฑุฉ:
- [x] ุงููุฑุฌุน ุงูุณุฑูุน ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
- [x] ุฃููููุฉ ุงูุฅุดุนุงุฑุงุช (UI ููุทุ ุจุญุงุฌุฉ SharePoint list)
- [x] ุฒุฑ ูุณูุช ูููุฉ ุงููุฑูุฑ (UI ููุทุ ุจุญุงุฌุฉ Power Automate Flow URL)

### ูุญุชุงุฌ ุฅุนุฏุงุฏ:
- [ ] ุฅูุดุงุก ูุงุฆูุฉ SharePoint: BC_Announcements
- [ ] ุฅุถุงูุฉ BC_Announcements ุฅูู generated services
- [ ] ุฅูุดุงุก Power Automate Flow ููุณูุช ูููุฉ ุงููุฑูุฑ
- [ ] ุชุญุฏูุซ Flow URL ูู Login.tsx

---

## ๐ ุฎุทูุงุช ุงูุชูุนูู ุงููุงูู | Full Activation Steps

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ูุงุฆูุฉ BC_Announcements

ูู SharePoint:
```
Site: https://saudimoe.sharepoint.com/sites/em
List Name: BC_Announcements

Columns:
1. Title (Text) - Required
2. Message (Multi-line text, Plain text) - Required
3. Priority (Choice: normal, urgent, critical) - Default: normal
4. TargetAudience (Choice: all, specific) - Required
5. TargetSchools (Multi-line text, Plain text)
6. PublishDate (Date and Time) - Required
7. ExpiryDate (Date and Time)
8. IsActive (Yes/No) - Default: Yes
9. CreatedBy (Single line text)
10. AttachmentUrl (Hyperlink)
```

### ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ ุฅูู Power SDK

```powershell
pac code add-data-source -a "shared_sharepointonline" -c "<connectionId>" -t "BC_Announcements" -d "saudimoe.sharepoint.com,/sites/em"
```

### ุงูุฎุทูุฉ 3: ุชุญุฏูุซ announcementService.ts

ุงุญุฐู ุงูุชุนูููุงุช ูุงุณุชุจุฏู:
```typescript
// TODO: Replace with actual generated service
```

ุจู:
```typescript
import { BC_AnnouncementsService } from '../generated';
```

### ุงูุฎุทูุฉ 4: ุฅูุดุงุก Power Automate Flow

1. ุงูุชุญ Power Automate
2. ุฃูุดุฆ Flow ุฌุฏูุฏ: "When an HTTP request is received"
3. ุฃุถู Schema (ููุง ูู ุงูุฃุนูู)
4. ุฃุถู Action: "Send an email"
5. ุงุญูุธ ุงูู Flow ูุงูุณุฎ HTTP POST URL

### ุงูุฎุทูุฉ 5: ุชุญุฏูุซ Login.tsx

```typescript
const flowUrl = '<PASTE_YOUR_FLOW_URL_HERE>'
```

### ุงูุฎุทูุฉ 6: ุงุฎุชุจุงุฑ

```powershell
npm run build
pac code push
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช | Statistics

- **ูููุงุช ุฌุฏูุฏุฉ:** 3
- **ูููุงุช ูุนุฏูุฉ:** 3
- **ุฃุณุทุฑ ููุฏ ูุถุงูุฉ:** ~800 line
- **ููููุงุช ุฌุฏูุฏุฉ:** 2 component
- **ุฎุฏูุงุช ุฌุฏูุฏุฉ:** 1 service
- **Routes ุฌุฏูุฏุฉ:** 1 route

---

## ๐ฏ ุงูููุงุฆุฏ | Benefits

### ูููุฏุงุฑุณ:
โ ูุตูู ุณูู ูููุฑุฌุน ุงูุณุฑูุน ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ  
โ ุงุณุชูุจุงู ุฅุดุนุงุฑุงุช ูููุฉ ูู ุงูุฅุฏุงุฑุฉ  
โ ุฅููุงููุฉ ุงุณุชุนุงุฏุฉ ูููุฉ ุงููุฑูุฑ ุจุณูููุฉ  

### ูููุณุคูู:
โ ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ูุฌููุน ุงููุฏุงุฑุณ ุฃู ูุฏุงุฑุณ ูุญุฏุฏุฉ  
โ ุชููู ุทูุจุงุช ุงุณุชุนุงุฏุฉ ูููุฉ ุงููุฑูุฑ  
โ ุงูุชุญูู ุจูุญุชูู ุงููุฑุฌุน ุงูุณุฑูุน  

---

**ุงูุชุงุฑูุฎ:** 19 ุฏูุณูุจุฑ 2025  
**ุงูุญุงูุฉ:** โ **ููููุฐ ูุฌุงูุฒ ููุงุฎุชุจุงุฑ**
